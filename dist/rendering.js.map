{"version":3,"sources":["../src/rendering.js"],"names":[],"mappings":";;;;;;;AAMe,WAAS,IAAT,CAAc,KAAd,EAAqB,IAArB,EAA2B,KAA3B,EAAkC,IAAlC,EAAwC;AACrD,QAAI,IAAJ,EAAU,KAAV,EAAiB,QAAjB;;AAEA,WAAO,KAAK,IAAL,CAAU,iBAAV,CAAP;AACA,SAAK,MAAL,CAAY,EAAZ,CAAe,QAAf,EAAyB,YAAW;AAClC;AACA,WAAK,kBAAL;AACD,KAHD;;AAKA,aAAS,gBAAT,GAA4B;AAC1B,UAAI;AACF,YAAI,SAAS,KAAK,MAAL,IAAe,MAAM,MAArB,IAA+B,KAAK,GAAL,CAAS,MAArD;AACA,YAAI,EAAE,QAAF,CAAW,MAAX,CAAJ,EAAwB;AACtB,mBAAS,SAAS,OAAO,OAAP,CAAe,IAAf,EAAqB,EAArB,CAAT,EAAmC,EAAnC,CAAT;AACD;;AAED,kBAAU,CAAV,C;AACA,kBAAU,MAAM,KAAN,GAAc,EAAd,GAAmB,CAA7B,C;;AAEA,aAAK,GAAL,CAAS,QAAT,EAAmB,SAAS,IAA5B;;AAEA,eAAO,IAAP;AACD,OAZD,CAYE,OAAM,CAAN,EAAS;;AACT,eAAO,KAAP;AACD;AACF;;AAED,aAAS,MAAT,GAAkB;AAChB,UAAI,CAAC,KAAK,IAAV,EAAgB;AAAE;AAAS;;AAE3B,aAAO,KAAK,IAAZ;AACA,cAAQ,KAAK,KAAb;;AAEA,UAAI,kBAAJ,EAAwB;AACtB;AACD;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DD,aAAS,WAAT,GAAuB;AACrB,UAAI,KAAK,MAAL,KAAgB,CAApB,EAAuB;AACrB;AACD;AACD,UAAI,YAAY,KAAK,KAAL,EAAhB;AACA,UAAI,aAAa,KAAK,MAAL,EAAjB;AACA,UAAI,SAAS,EAAE,KAAK,EAAP,EAAW,OAAO,EAAlB,EAAsB,QAAQ,EAA9B,EAAkC,MAAM,EAAxC,EAAb;AACA,UAAI,QAAQ,YAAY,OAAO,IAAnB,GAA0B,OAAO,KAA7C;AACA,UAAI,SAAS,aAAa,OAAO,GAApB,GAA0B,OAAO,MAA9C;AACA,UAAI,SAAS,KAAK,GAAL,CAAS,KAAT,EAAgB,MAAhB,IAA0B,CAAvC;;AAEA,SAAG,MAAH,CAAU,uBAAuB,KAAK,KAAL,CAAW,EAA5C,EAAgD,MAAhD;;AAEA,UAAI,MAAM,GAAG,MAAH,CAAU,yBAAyB,KAAK,KAAL,CAAW,EAA9C,EACP,IADO,CACF,OADE,EACO,QAAQ,OAAO,IAAf,GAAsB,OAAO,KADpC,EAEP,IAFO,CAEF,QAFE,EAEQ,SAAS,OAAO,GAAhB,GAAsB,OAAO,MAFrC,EAGT,MAHS,CAGF,GAHE,EAIP,IAJO,CAIF,IAJE,EAII,sBAAsB,KAAK,KAAL,CAAW,EAJrC,EAKP,IALO,CAKF,WALE,EAKW,gBAChB,OAAO,IAAP,GAAc,QAAS,CADP,IACY,IADZ,IAEhB,OAAO,GAAP,GAAc,SAAS,CAFP,IAEY,GAPvB,CAAV;;AAUA,UAAI,IAAI,GAAG,KAAH,CAAS,MAAT,GAAkB,KAAlB,CAAwB,CAAC,CAAD,EAAI,IAAI,KAAK,EAAb,CAAxB,CAAR;AACA,UAAI,IAAI,GAAG,KAAH,CAAS,IAAT,GAAgB,KAAhB,CAAsB,CAAC,CAAD,EAAI,MAAJ,CAAtB,CAAR;;AAEA,UAAI,YAAY,GAAG,MAAH,CAAU,SAAV,GACb,QADa,CACJ,UAAS,CAAT,EAAY;AACpB,eAAO,MAAM,OAAN,CAAc,EAAE,MAAhB,IACL,EAAE,MADG,GACM,IADb;AAED,OAJa,EAKb,KALa,CAKP,UAAS,CAAT,EAAY;AACjB,eAAO,EAAE,MAAT;AACD,OAPa,CAAhB;;AASA,UAAI,QAAQ,SAAR,KAAQ,CAAS,CAAT,EAAY;AACtB,YAAI,MAAJ;;AAEA,YAAI,CAAC,EAAE,MAAP,EAAe;AACb,mBAAS,GAAG,KAAH,CAAS,UAAT,GACN,MADM,CACC,GAAG,KAAH,CAAS,CAAT,EAAW,EAAX,CADD,CAAT;AAEA,YAAE,KAAF,GAAU,aAAV;AAED,SALD,MAKO,IAAI,EAAE,QAAN,EAAgB;AACrB,cAAI,aAAa,GAAG,GAAH,CAAO,EAAE,KAAT,EAAgB,MAAhB,EAAjB;cACI,WAAa,GAAG,GAAH,CAAO,EAAE,KAAT,EAAgB,QAAhB,EADjB;;AAGA,mBAAS,GAAG,KAAH,CAAS,MAAT,GACN,WADM,CACM,GAAG,cADT,EAEN,KAFM,CAEA,CACH,WAAW,QAAX,EADG,EAEH,SAAS,QAAT,EAFG,CAFA,EAMN,MANM,CAMC,CAAC,CAAD,EAAG,EAAE,QAAF,CAAW,MAAX,GAAoB,CAAvB,CAND,CAAT;AAOD;;AAED,YAAI,EAAE,QAAN,EAAgB;AACd,YAAE,QAAF,CAAW,GAAX,CAAe,UAAS,KAAT,EAAgB,CAAhB,EAAmB;AAChC,mBAAO,EAAC,OAAO,MAAM,KAAd,EAAqB,KAAK,CAA1B,EAAP;AACD,WAFD,EAGC,IAHD,CAGM,UAAS,CAAT,EAAW,CAAX,EAAc;AAClB,mBAAO,EAAE,KAAF,GAAU,EAAE,KAAnB;AACD,WALD,EAMC,OAND,CAMS,UAAS,KAAT,EAAgB,CAAhB,EAAmB;AAC1B,cAAE,QAAF,CAAW,MAAM,GAAjB,EAAsB,KAAtB,GAA8B,OAAO,CAAP,CAA9B;AACD,WARD;AASD;;AAED,eAAO,EAAE,KAAT;AACD,OAlCD;;;AAqCA,SAAG,GAAH,CAAO,OAAP,EAAgB,UAAS,KAAT,EAAgB,OAAhB,EAAyB;AACvC,YAAI,YAAY;AACd,eAAK,eADS;AAEd,kBAAQ,GAAG,IAAH,GACL,GADK,CACD,UAAS,CAAT,EAAY;AAAE,mBAAO,EAAE,MAAT;AAAkB,WAD/B,EAEL,GAFK,CAED,UAAS,CAAT,EAAY;AAAE,mBAAO,EAAE,KAAT;AAAiB,WAF9B,EAGL,GAHK,CAGD,UAAS,CAAT,EAAY;AAAE,mBAAO,EAAE,MAAT;AAAkB,WAH/B,EAIL,MAJK,CAIE,UAAS,MAAT,EAAiB;;AAEvB,mBAAO,OAAO,CAAP,EAAU,KAAjB;AACD,WAPK,EAQL,OARK,CAQG,KAAK,CAAL,EAAQ,UARX;AAFM,SAAhB;;AAaA,YAAI,OAAO,IAAI,SAAJ,CAAc,MAAd,EACR,IADQ,CACH,UAAU,KAAV,CAAgB,SAAhB,CADG,EAER,KAFQ,GAGR,MAHQ,CAGD,MAHC,EAIR,IAJQ,CAIH,GAJG,EAIE,GAJF,EAKR,IALQ,CAKH,QALG,EAKO,MALP,EAMR,IANQ,CAMH,WANG,EAMU,SANV,EAOR,IAPQ,CAOH,MAPG,EAOK,KAPL,EAQR,EARQ,CAQL,OARK,EAQI,KARJ,EASR,EATQ,CASL,WATK,EASQ,SATR,EAUR,EAVQ,CAUL,UAVK,EAUO,QAVP,CAAX;;AAYA,YAAI,UAAU,IAAI,MAAJ,CAAW,MAAX,EACX,IADW,CACN,WADM,EACO,EADP,EAEX,IAFW,CAEN,MAFM,EAEE,MAFF,EAGX,IAHW,CAGN,cAHM,EAGU,CAHV,EAIX,IAJW,CAIN,aAJM,EAIS,QAJT,EAKX,IALW,CAKN,WALM,EAKO,eAAe,CAAf,GAAmB,GAAnB,IAA0B,KAAK,SAAS,CAAxC,IAA6C,GALpD,EAMX,KANW,CAML,gBANK,EAMa,MANb,CAAd;;AAQA,iBAAS,KAAT,CAAe,CAAf,EAAkB;AAChB,eAAK,UAAL,GACE,QADF,CACW,GADX,EAEE,SAFF,CAEY,GAFZ,EAEiB,SAAS,CAAT,CAFjB;AAGA;AACD;;AAED,iBAAS,SAAT,CAAmB,CAAnB,EAAsB;AACpB,kBAAQ,IAAR,CACE,EAAE,GAAF,GAAQ,IAAR,GACA,EAAE,KADF,GACU,WADV,IAEC,EAAE,KAAF,GAAU,CAAV,GAAc,GAAd,GAAoB,EAFrB,CADF,EAKC,UALD,GAMC,IAND,CAMM,cANN,EAMsB,CANtB;AAOD;;AAED,iBAAS,QAAT,GAAoB;AACnB,kBAAQ,UAAR,GACG,IADH,CACQ,cADR,EACwB,CADxB;AAEA;AACF,OAvDD;;AAyDA,UAAI,MAAM,GAAG,GAAH,CAAO,GAAP,GACP,UADO,CACI,UAAS,CAAT,EAAY;AACtB,eAAO,KAAK,GAAL,CAAS,CAAT,EAAY,KAAK,GAAL,CAAS,IAAI,KAAK,EAAlB,EAAsB,EAAE,EAAE,CAAJ,CAAtB,CAAZ,CAAP;AACD,OAHO,EAIP,QAJO,CAIE,UAAS,CAAT,EAAY;AACpB,eAAO,KAAK,GAAL,CAAS,CAAT,EAAY,KAAK,GAAL,CAAS,IAAI,KAAK,EAAlB,EAAsB,EAAE,EAAE,CAAF,GAAM,EAAE,EAAV,CAAtB,CAAZ,CAAP;AACD,OANO,EAOP,WAPO,CAOK,UAAS,CAAT,EAAY;AACvB,eAAO,KAAK,GAAL,CAAS,CAAT,EAAY,EAAE,EAAE,CAAJ,CAAZ,CAAP;AACD,OATO,EAUP,WAVO,CAUK,UAAS,CAAT,EAAY;AACvB,eAAO,KAAK,GAAL,CAAS,CAAT,EAAY,EAAE,EAAE,CAAF,GAAM,EAAE,EAAV,CAAZ,CAAP;AACD,OAZO,CAAV;;AAcA,eAAS,QAAT,CAAkB,CAAlB,EAAqB;AACnB,YAAI,KAAK,GAAG,WAAH,CAAe,EAAE,MAAF,EAAf,EAA2B,CAAC,EAAE,CAAH,EAAM,EAAE,CAAF,GAAM,EAAE,EAAd,CAA3B,CAAT;YACI,KAAK,GAAG,WAAH,CAAe,EAAE,MAAF,EAAf,EAA2B,CAAC,EAAE,CAAH,EAAM,CAAN,CAA3B,CADT;YAEI,KAAK,GAAG,WAAH,CAAe,EAAE,KAAF,EAAf,EAA0B,CAAC,EAAE,CAAF,GAAM,EAAN,GAAW,CAAZ,EAAe,MAAf,CAA1B,CAFT;;AAIA,eAAO,UAAS,CAAT,EAAY,CAAZ,EAAe;AACpB,iBAAO,IACL,UAAS,CAAT,EAAY;AACV,mBAAO,IAAI,CAAJ,CAAP;AACD,WAHI,GAIL,UAAS,CAAT,EAAY;AACV,cAAE,MAAF,CAAS,GAAG,CAAH,CAAT;AACA,cAAE,MAAF,CAAS,GAAG,CAAH,CAAT,EAAgB,KAAhB,CAAsB,GAAG,CAAH,CAAtB;AACA,mBAAO,IAAI,CAAJ,CAAP;AACD,WARH;AASD,SAVD;AAWD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHF;AACF;;qBAxXuB,I;;;;AANjB,O;;AACA,O;;AACA,Y;;AACA,S;;AACA,Q","file":"rendering.js","sourcesContent":["import _ from 'lodash';\nimport $ from 'jquery';\nimport moment from 'moment';\nimport kbn from 'app/core/utils/kbn';\nimport d3 from './d3.v3.min';\n\nexport default function link(scope, elem, attrs, ctrl) {\n  var data, panel, position;\n\n  elem = elem.find('.sunburst-panel');\n  ctrl.events.on('render', function() {\n    render();\n    ctrl.renderingCompleted();\n  });\n\n  function setElementHeight() {\n    try {\n      var height = ctrl.height || panel.height || ctrl.row.height;\n      if (_.isString(height)) {\n        height = parseInt(height.replace('px', ''), 10);\n      }\n\n      height -= 5; // padding\n      height -= panel.title ? 24 : 9; // subtract panel title bar\n\n      elem.css('height', height + 'px');\n\n      return true;\n    } catch(e) { // IE throws errors sometimes\n      return false;\n    }\n  }\n\n  function render() {\n    if (!ctrl.data) { return; }\n\n    data = ctrl.data;\n    panel = ctrl.panel;\n\n    if (setElementHeight()) {\n      addSunburst();\n    }\n  }\n\n  /*\n  function getKey(arr, val) {\n    return parseInt(_.keys(arr).find(function(key) {\n      return arr[key] == val;\n    }));\n  }\n\n  function createColumnFormater(style) {\n    var defaultFormater = function(v) {\n      if (v === null || v === void 0 || v === undefined) {\n        return '';\n      }\n      if (_.isArray(v)) {\n        v = v.join(', ');\n      }\n      return v;\n    };\n\n    if (! style) {\n      return defaultFormater;\n    }\n\n    switch (style.type) {\n    case 'date':\n      return v => {\n        if (_.isArray(v)) { v = v[0]; }\n        var date = moment(v);\n        if (ctrl.dashboard.isTimezoneUtc()) {\n          date = date.utc();\n        }\n        return date.format(style.dateFormat || 'YYYY-MM-DD HH:mm:ss');\n      };\n      break;\n\n    case 'number':\n      var valueFormater = kbn.valueFormats[style.unit];\n\n      return v =>  {\n        if (v === null || v === void 0) {\n          return '-';\n        }\n\n        if (_.isString(v)) {\n          return v;\n        }\n\n        return valueFormater(v, style.decimals, null);\n      };\n      break;\n\n    default:\n      return defaultFormater;\n    }\n\n  }\n  */\n\n  function addSunburst() {\n    if (data.length === 0) {\n      return;\n    }\n    var elemWidth = elem.width();\n    var elemHeight = elem.height();\n    var margin = { top: 30, right: 10, bottom: 20, left: 10 };\n    var width = elemWidth - margin.left - margin.right;\n    var height = elemHeight - margin.top - margin.bottom;\n    var radius = Math.min(width, height) / 2;\n\n    d3.select(\"#sunburst-panel-g-\" + ctrl.panel.id).remove();\n\n    var svg = d3.select(\"#sunburst-panel-svg-\" + ctrl.panel.id)\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n    .append('g')\n      .attr('id', \"sunburst-panel-g-\" + ctrl.panel.id)\n      .attr(\"transform\", \"translate(\" +\n        (margin.left + width  / 2) + \", \" +\n        (margin.top  + height / 2) + \")\"\n      );\n\n    var x = d3.scale.linear().range([0, 2 * Math.PI]);\n    var y = d3.scale.sqrt().range([0, radius]);\n\n    var partition = d3.layout.partition()\n      .children(function(d) {\n        return Array.isArray(d.values) ?\n          d.values : null;\n      })\n      .value(function(d) {\n        return d.values;\n      });\n\n    var color = function(d) {\n      var colors;\n\n      if (!d.parent) {\n        colors = d3.scale.category10()\n          .domain(d3.range(0,10));\n        d.color = 'transparent';\n\n      } else if (d.children) {\n        var startColor = d3.hcl(d.color).darker(),\n            endColor   = d3.hcl(d.color).brighter();\n\n        colors = d3.scale.linear()\n          .interpolate(d3.interpolateHcl)\n          .range([\n              startColor.toString(),\n              endColor.toString()\n          ])\n          .domain([0,d.children.length + 1]);\n      }\n\n      if (d.children) {\n        d.children.map(function(child, i) {\n          return {value: child.value, idx: i};\n        })\n        .sort(function(a,b) {\n          return b.value - a.value\n        })\n        .forEach(function(child, i) {\n          d.children[child.idx].color = colors(i);\n        });\n      }\n\n      return d.color;\n    };\n\n    //d3.csv(\"public/plugins/grafana-sunburst-panel/tornadoes.csv\", function(error, dataset) {\n    d3.csv(\"dummy\", function(error, dataset) {\n      var hierarchy = {\n        key: \"United States\",\n        values: d3.nest()\n          .key(function(d) { return d.region; })\n          .key(function(d) { return d.state; })\n          .key(function(d) { return d.county; })\n          .rollup(function(leaves) {\n            //return leaves.length;\n            return leaves[0].count;\n          })\n          .entries(data[0].datapoints)\n      };\n\n      var path = svg.selectAll(\"path\")\n        .data(partition.nodes(hierarchy))\n        .enter()\n        .append(\"path\")\n        .attr(\"d\", arc)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"fill-rule\", \"evenodd\")\n        .attr(\"fill\", color)\n        .on(\"click\", click)\n        .on(\"mouseover\", mouseover)\n        .on(\"mouseout\", mouseout);\n\n      var tooltip = svg.append(\"text\")\n        .attr(\"font-size\", 12)\n        .attr(\"fill\", \"#fff\")\n        .attr(\"fill-opacity\", 0)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"transform\", \"translate(\" + 0 + \",\" + (12 + height / 2)  +\")\")\n        .style(\"pointer-events\", \"none\");\n\n      function click(d) {\n        path.transition()\n         .duration(750)\n         .attrTween(\"d\", arcTween(d));\n        mouseout();\n      };\n\n      function mouseover(d) {\n        tooltip.text(\n          d.key + \": \" +\n          d.value + \" sighting\" +\n          (d.value > 1 ? \"s\" : \"\")\n        )\n        .transition()\n        .attr(\"fill-opacity\", 1);\n      };\n\n      function mouseout() {\n       tooltip.transition()\n         .attr(\"fill-opacity\", 0);\n      };\n    });\n\n    var arc = d3.svg.arc()\n      .startAngle(function(d) {\n        return Math.max(0, Math.min(2 * Math.PI, x(d.x)));\n      })\n      .endAngle(function(d) {\n        return Math.max(0, Math.min(2 * Math.PI, x(d.x + d.dx)));\n      })\n      .innerRadius(function(d) {\n        return Math.max(0, y(d.y));\n      })\n      .outerRadius(function(d) {\n        return Math.max(0, y(d.y + d.dy));\n      });\n\n    function arcTween(d) {\n      var xd = d3.interpolate(x.domain(), [d.x, d.x + d.dx]),\n          yd = d3.interpolate(y.domain(), [d.y, 1]),\n          yr = d3.interpolate(y.range(), [d.y ? 20 : 0, radius]);\n\n      return function(d, i) {\n        return i ?\n          function(t) {\n            return arc(d);\n          } :\n          function(t) {\n            x.domain(xd(t));\n            y.domain(yd(t)).range(yr(t));\n            return arc(d);\n          };\n      };\n    }\n\n    /*\n    var formater = {\n        x: createColumnFormater(panel.styles.x),\n        y: createColumnFormater(panel.styles.y),\n        z: createColumnFormater(panel.styles.z)\n    };\n\n    var labels = _.pluck(data, 'label');\n\n    var datapoints = [];\n    datapoints.push(_.map(data[0].datapoints, function(dp) {\n      return formater.x(dp[1]);\n    }));\n    datapoints = datapoints.concat(_.map(data, function(serie) {\n      return _.map(serie.datapoints, function(dp) {\n        return dp[0];\n      });\n    }));\n\n    var valueLabels = _.map(datapoints, function(dp, i) {\n      if (i < 2) {\n        return _.uniq(dp);\n      }\n    });\n\n    // dataset\n    var graphdata = new vis.DataSet();\n    for (var i = 0; i < datapoints[0].length; i += 1) {\n      graphdata.add({\n        x: getKey(valueLabels[0], datapoints[0][i]),\n        y: getKey(valueLabels[1], datapoints[1][i]),\n        z: datapoints[2][i],\n        style: datapoints[2][i]\n      });\n    }\n\n    // prepare div for canvas\n    var plotDiv = document.createElement('div');\n\n    // css\n    var width = elem.width();\n    var height = elem.height();\n    $(plotDiv).css({\n      width: width + 'px',\n      height: height + 'px',\n      margin: 'auto',\n      position: 'relative'\n    });\n\n    var axisLabels = {\n        x: panel.styles.x.label || 'time',\n        y: panel.styles.y.label || labels[0],\n        z: panel.styles.z.label || labels[1]\n    };\n    var units = {\n        x: kbn.valueFormats[panel.styles.x.unit] || panel.styles.x.unit || '',\n        y: kbn.valueFormats[panel.styles.y.unit] || panel.styles.y.unit || '',\n        z: kbn.valueFormats[panel.styles.z.unit] || panel.styles.z.unit || ''\n    };\n\n    var options = {\n      width: width + 'px',\n      height: height + 'px',\n      axisColor: '#888888',\n\n      style:           panel.graphType,\n      showGrid:        true,\n      showShadow:      false,\n      showPerspective: panel.showPerspective || false,\n      verticalRatio:   panel.verticalRatio || 0.5,\n      keepAspectRatio: panel.keepAspectRatio || false,\n\n      xLabel: axisLabels.x,\n      yLabel: axisLabels.y,\n      zLabel: axisLabels.z,\n\n      xMin: panel.styles.x.min || null,\n      yMin: panel.styles.y.min || null,\n      zMin: panel.styles.z.min || null,\n\n      xMax: panel.styles.x.max || null,\n      yMax: panel.styles.y.max || null,\n      zMax: panel.styles.z.max || null,\n\n      xStep: panel.styles.x.step || null,\n      yStep: panel.styles.y.step || null,\n      zStep: panel.styles.z.step || null,\n\n      xValueLabel: function(key) {\n        return formater.x(valueLabels[0][key]);\n      },\n      yValueLabel: function(key) {\n        return formater.y(valueLabels[1][key]);\n      },\n      zValueLabel: function(key) {\n        return formater.z(key);\n      },\n\n      tooltip: function (point) {\n         return axisLabels.x + ': ' + formater.x(valueLabels[0][point.x]) + '<br>' +\n                axisLabels.y + ': ' + formater.y(valueLabels[1][point.y]) + '<br>' +\n                axisLabels.z + ': ' + '<b>' + formater.z(point.z) + '</b>';\n      }\n    };\n\n    for (var key in options) {\n        if (options[key] === null) {\n           delete options[key];\n        }\n    }\n\n    // draw\n    var graph3d = new vis.Graph3d(plotDiv, graphdata, options);\n    graph3d.on('cameraPositionChange', onCameraPositionChange);\n    graph3d.setCameraPosition(panel.cameraPosition);\n\n    elem.html(plotDiv);\n    graph3d.redraw();\n    */\n  }\n}\n\n"]}